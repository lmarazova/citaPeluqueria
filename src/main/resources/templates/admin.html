<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Peluquería</title>
    <link rel="icon" type="image/x-icon" th:href="@{../img/favicon.ico}">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="register-page">
<header th:replace="fragments/header :: header"></header>

<div class="container">
    <div class="row">
        <div class="col-12 col-md-4"></div>
        <div class="col-12 col-md-4 btn-group" role="group" aria-label="Basic example">
            <a class="btn btn-outline-light w-50" href="/create-service">
                Crear un nuevo pack de servicios
            </a>
            <a  class="btn btn-outline-light w-50" href="/register-moderator">
                Registrar un nuevo peluquero
            </a>
            <a href="/moderator"  class="btn btn-outline-light w-50">
                Registrar un nuevo cliente
            </a>
            <a href="/service-packs"  class="btn btn-outline-light w-50">
                Administrar packs completos
            </a>
            <a href="/add-holidays"  class="btn btn-outline-light w-50">
                Gestionar días festivos
            </a>
        </div>
        <div class="col-12 col-md-4"></div>
    </div>
    <div class="row">
        <div><h1 class="page-title display-4 text-center">Bienvenido al Panel de Administración</h1></div>
    </div>
</div>
<div class="container">
    <h3 class="text-center mb-4">Lista de peluqueros</h3>
    <div class="container">
        <div class="row">
            <!-- Espacio izquierdo (2/12) -->
            <div class="col-12 col-md-2"></div>

            <!-- Contenido principal (8/12) -->
            <div class="col-12 col-md-8">
                <div class="row g-4">
                    <div class="col-12 col-md-4" th:each="moderator : ${moderators}">
                        <div class="card h-100">
                            <a href="#" style="text-decoration: none; color: inherit;">
                                <img th:src="@{'/img/peluquero_' + ${moderator.username} + '.png'}" class="card-img-top" alt="Foto del peluquero">
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">Nombre: <span th:text="${moderator.username}"></span></h5>
                                <h5 class="card-title">Correo: <span th:text="${moderator.email}"></span></h5>
                                <form th:action="@{/admin/deleteModerator/{id}(id=${moderator.id})}" method="post" th:object="${moderator}">
                                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                    <button type="submit" class="btn btn-danger">Eliminar</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Espacio derecho (2/12) -->
            <div class="col-12 col-md-2"></div>
        </div>
    </div>
</div>
<div class="container client-list">
    <h3 class="text-center mb-4">Lista de clientes</h3>
    <div class="container">
        <div class="row">
        <div class="col-12 col-md-2"></div>
        <div class="col-12 col-md-8">

            <!-- ===================== BUSCAR CLIENTE ===================== -->
            <h2>Buscar cliente</h2>

            <label for="client-select"></label>
            <select id="client-select"
                    class="form-select mb-3 custom-select-transparent"
                    onchange="loadClientDetails(this.value)">
                <option value="">-- Selecciona un cliente --</option>
            </select>
            <div th:replace="fragments/modal-reusable :: modal-reusable"></div>
        </div>
        <div class="col-12 col-md-2"></div>
    </div>
    </div>
</div>




<a href="/logout" style="color: white;">Cerrar sesión</a>
<footer th:replace="fragments/footer :: footer"></footer>
<script th:src="@{/js/hairdresser-panel.js}"></script>
<script th:src="@{/js/custom-panel.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>