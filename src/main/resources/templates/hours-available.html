<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Seleccionar hora</title>
    <link rel="icon" type="image/x-icon" th:href="@{../img/favicon.ico}">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

</head>
<body class="register-page">
<header th:replace="fragments/header :: header"></header>
<div class="container mt-3">
    <button type="button" class="btn btn-outline-light" onclick="history.back()">
        ← Volver
    </button>
</div>
<h1 class="text-center my-4">HORARIOS DISPONIBLES <span th:text="${serviceName}">[Nombre del servicio]</span></h1>

<div class="card mx-auto" style="max-width: 800px;">
    <img th:src="@{'/img/' + ${serviceName} + '.png'}" th:alt="${serviceName}" class="card-img-top">
    <div class="card-body">
        <h2 class="card-title text-center"><span th:text="${serviceName}">[Nombre del servicio]</span></h2>
        <p class="text-center">Horas disponibles <span th:text="${selectedDate}">[Fecha]</span></p>
        <p class="text-center">Selecciona una franja horaria:</p>

        <form th:action="@{/selectSlot}" th:method="POST" th:object="${slotOutputDTO}">
            <input name="packageId" th:value="${packageId}" type="hidden"/>
            <input name="date" th:value="${selectedDate}" type="hidden"/>

            <div class="row g-2">
                <div class="col-12 col-sm-6 col-md-4" th:each="hourRange, iterStat : ${hourRangePresentation}">
                    <label class="w-100 text-center">
                        <input type="radio" name="selectedHourRange"
                               th:id="'hour-' + ${iterStat.index}"
                               th:value="${hourRange}"
                               class="radio-hidden"/>
                        <span th:for="'hour-' + ${iterStat.index}"
                              th:text="${hourRange}"
                              class="badge badge-selectable w-100 py-2 badge_border_white">
                        </span>
                    </label>
                </div>
            </div>

            <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-outline-light w-50 mt-3">Confirmar selección</button>
            </div>
        </form>
    </div>
</div>
<footer th:replace="fragments/footer :: footer"></footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
